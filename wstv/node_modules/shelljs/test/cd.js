function numLines(e){return typeof e=="string"?e.match(/\n/g).length:0}var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0);var cur=shell.pwd();shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.cd(),assert.ok(shell.error()),assert.equal(fs.existsSync("/asdfasdf"),!1),shell.cd("/adsfasdf"),assert.ok(shell.error()),assert.equal(fs.existsSync("resources/file1"),!0),shell.cd("resources/file1"),assert.ok(shell.error()),shell.cd(cur),shell.cd("tmp"),assert.equal(shell.error(),null),assert.equal(path.basename(process.cwd()),"tmp"),shell.cd(cur),shell.cd("/"),assert.equal(shell.error(),null),assert.equal(process.cwd(),path.resolve("/")),shell.cd(cur),shell.rm("-f","tmp/*"),assert.equal(fs.existsSync("tmp/file1"),!1),shell.cd("resources"),assert.equal(shell.error(),null),shell.cp("file1","../tmp"),assert.equal(shell.error(),null),shell.cd("../tmp"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1"),!0),shell.exit(123);