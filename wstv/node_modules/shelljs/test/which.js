function numLines(e){return typeof e=="string"?e.match(/\n/g).length:0}var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0),shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.which(),assert.ok(shell.error());var result=shell.which("asdfasdfasdfasdfasdf");assert.equal(shell.error(),null),assert.equal(result,null);var result=shell.which("node");assert.equal(shell.error(),null),assert.equal(fs.existsSync(result),!0),shell.exit(123);