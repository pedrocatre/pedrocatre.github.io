function numLines(e){return typeof e=="string"?e.match(/\n/g).length:0}var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0),shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.mkdir(),assert.ok(shell.error());var mtime=fs.statSync("tmp").mtime.toString();shell.mkdir("tmp"),assert.ok(shell.error()),assert.equal(fs.statSync("tmp").mtime.toString(),mtime),assert.equal(fs.existsSync("/asdfasdf"),!1),shell.mkdir("/asdfasdf/asdfasdf"),assert.ok(shell.error()),assert.equal(fs.existsSync("/asdfasdf"),!1),assert.equal(fs.existsSync("tmp/t1"),!1),shell.mkdir("tmp/t1"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/t1"),!0),assert.equal(fs.existsSync("tmp/t2"),!1),assert.equal(fs.existsSync("tmp/t3"),!1),shell.mkdir("tmp/t2","tmp/t3"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/t2"),!0),assert.equal(fs.existsSync("tmp/t3"),!0),assert.equal(fs.existsSync("tmp/t1"),!0),assert.equal(fs.existsSync("tmp/t4"),!1),shell.mkdir("tmp/t1","tmp/t4"),assert.equal(numLines(shell.error()),1),assert.equal(fs.existsSync("tmp/t1"),!0),assert.equal(fs.existsSync("tmp/t4"),!0),assert.equal(fs.existsSync("tmp/a"),!1),shell.mkdir("-p","tmp/a/b/c"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/a/b/c"),!0),shell.rm("-Rf","tmp/a"),shell.mkdir("-p","tmp/zzza","tmp/zzzb","tmp/zzzc"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/zzza"),!0),assert.equal(fs.existsSync("tmp/zzzb"),!0),assert.equal(fs.existsSync("tmp/zzzc"),!0),shell.mkdir("-p",["tmp/yyya","tmp/yyyb","tmp/yyyc"]),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/yyya"),!0),assert.equal(fs.existsSync("tmp/yyyb"),!0),assert.equal(fs.existsSync("tmp/yyyc"),!0),shell.exit(123);