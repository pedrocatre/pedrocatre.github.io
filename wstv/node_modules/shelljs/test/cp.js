function numLines(e){return typeof e=="string"?e.match(/\n/g).length:0}var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0),shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.cp(),assert.ok(shell.error()),shell.cp("file1"),assert.ok(shell.error()),shell.cp("-f"),assert.ok(shell.error()),shell.rm("-rf","tmp/*"),shell.cp("-@","resources/file1","tmp/file1"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp/file1"),!1),shell.cp("-Z","asdfasdf","tmp/file2"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp/file2"),!1),shell.cp("asdfasdf","tmp"),assert.ok(shell.error()),assert.equal(numLines(shell.error()),1),assert.equal(fs.existsSync("tmp/asdfasdf"),!1),shell.cp("asdfasdf1","asdfasdf2","tmp"),assert.ok(shell.error()),assert.equal(numLines(shell.error()),2),assert.equal(fs.existsSync("tmp/asdfasdf1"),!1),assert.equal(fs.existsSync("tmp/asdfasdf2"),!1),shell.cp("asdfasdf1","asdfasdf2","resources/file1"),assert.ok(shell.error()),shell.cp("resources/file1","resources/file2"),assert.ok(shell.error()),shell.cp("resources/file1","resources/file2","tmp/a_file"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp/a_file"),!1),shell.cp("resources/file1","tmp"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!0),shell.cp("resources/file2","tmp/file2"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file2"),!0),shell.rm("-rf","tmp/*"),shell.cp("resources/file1","resources/file2","tmp"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!0),assert.equal(fs.existsSync("tmp/file2"),!0),shell.rm("-rf","tmp/*"),shell.cp(["resources/file1","resources/file2"],"tmp"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!0),assert.equal(fs.existsSync("tmp/file2"),!0),shell.cp("resources/file2","tmp/file3"),assert.equal(fs.existsSync("tmp/file3"),!0),shell.cp("-f","resources/file2","tmp/file3"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file3"),!0),shell.rm("tmp/file1","tmp/file2"),shell.cp("resources/file*","tmp"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!0),assert.equal(fs.existsSync("tmp/file2"),!0),shell.rm("-rf","tmp/*"),shell.cp("-R","resources/cp","tmp"),assert.equal(shell.error(),null),assert.equal(JSON.stringify(shell.ls("-R","resources/cp")),JSON.stringify(shell.ls("-R","tmp/cp"))),shell.rm("-rf","tmp/*"),shell.cp("-R","resources/cp","tmp"),shell.cp("-R","resources/cp","tmp"),assert.equal(shell.error(),null),shell.rm("-rf","tmp/*"),shell.cp("-R","resources/cp","tmp"),"changing things around".to("tmp/cp/dir_a/z"),assert.notEqual(shell.cat("resources/cp/dir_a/z"),shell.cat("tmp/cp/dir_a/z")),shell.cp("-Rf","resources/cp","tmp"),assert.equal(shell.error(),null),assert.equal(shell.cat("resources/cp/dir_a/z"),shell.cat("tmp/cp/dir_a/z")),shell.exit(123);