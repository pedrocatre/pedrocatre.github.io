var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0),shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.rm(),assert.ok(shell.error()),shell.rm("asdfasdf"),assert.ok(shell.error()),shell.rm("-f"),assert.ok(shell.error()),shell.rm("-@","resources/file1"),assert.ok(shell.error()),assert.equal(fs.existsSync("resources/file1"),!0),shell.rm("-f","asdfasdf"),assert.equal(shell.error(),null),shell.cp("-f","resources/file1","tmp/file1"),assert.equal(fs.existsSync("tmp/file1"),!0),shell.rm("tmp/file1"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!1),shell.mkdir("-p","tmp/a/b/c"),assert.equal(fs.existsSync("tmp/a/b/c"),!0),shell.rm("-rf","tmp/a"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/a"),!1),shell.mkdir("-p","tmp/a/b/c"),assert.equal(fs.existsSync("tmp/a/b/c"),!0),shell.rm("-Rf","tmp/a"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/a"),!1),shell.mkdir("-p","tmp/a/b/c"),assert.equal(fs.existsSync("tmp/a/b/c"),!0),shell.rm("-Rf",path.resolve("./tmp/a")),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/a"),!1),shell.cp("-f","resources/file*","tmp"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!0),assert.equal(fs.existsSync("tmp/file2"),!0),assert.equal(fs.existsSync("tmp/file1.js"),!0),assert.equal(fs.existsSync("tmp/file2.js"),!0),shell.rm("tmp/file*"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("tmp/file1"),!1),assert.equal(fs.existsSync("tmp/file2"),!1),assert.equal(fs.existsSync("tmp/file1.js"),!1),assert.equal(fs.existsSync("tmp/file2.js"),!1),shell.mkdir("-p","tmp/a/b/c"),shell.mkdir("-p","tmp/b"),shell.mkdir("-p","tmp/c"),shell.mkdir("-p","tmp/.hidden"),assert.equal(fs.existsSync("tmp/a/b/c"),!0),assert.equal(fs.existsSync("tmp/b"),!0),assert.equal(fs.existsSync("tmp/c"),!0),assert.equal(fs.existsSync("tmp/.hidden"),!0),shell.rm("-rf","tmp/*"),assert.equal(shell.error(),null);var contents=fs.readdirSync("tmp");assert.equal(contents.length,1),assert.equal(contents[0],".hidden"),shell.mkdir("-p","tmp/a/b/c"),shell.mkdir("-p","tmp/b"),shell.mkdir("-p","tmp/c"),shell.mkdir("-p","tmp/.hidden"),assert.equal(fs.existsSync("tmp/a/b/c"),!0),assert.equal(fs.existsSync("tmp/b"),!0),assert.equal(fs.existsSync("tmp/c"),!0),assert.equal(fs.existsSync("tmp/.hidden"),!0),shell.rm("-rf","tmp/*","tmp/.*"),assert.equal(shell.error(),null);var contents=fs.readdirSync("tmp");assert.equal(contents.length,0),shell.mkdir("-p","tmp/a/b/c"),shell.mkdir("-p","tmp/b"),shell.mkdir("-p","tmp/c"),shell.mkdir("-p","tmp/.hidden"),assert.equal(fs.existsSync("tmp/a/b/c"),!0),assert.equal(fs.existsSync("tmp/b"),!0),assert.equal(fs.existsSync("tmp/c"),!0),assert.equal(fs.existsSync("tmp/.hidden"),!0),shell.rm("-rf",["tmp/*","tmp/.*"]),assert.equal(shell.error(),null);var contents=fs.readdirSync("tmp");assert.equal(contents.length,0),shell.mkdir("-p","tmp/readonly"),"asdf".to("tmp/readonly/file1"),fs.chmodSync("tmp/readonly/file1","0444"),shell.rm("tmp/readonly/file1"),assert.equal(fs.existsSync("tmp/readonly/file1"),!0),shell.mkdir("-p","tmp/readonly"),"asdf".to("tmp/readonly/file2"),fs.chmodSync("tmp/readonly/file2","0444"),shell.rm("-f","tmp/readonly/file2"),assert.equal(fs.existsSync("tmp/readonly/file2"),!1),shell.mkdir("-p","tmp/tree2"),"asdf".to("tmp/tree2/file1"),"asdf".to("tmp/tree2/file2"),fs.chmodSync("tmp/tree2/file1","0444"),shell.rm("-r","tmp/tree2"),assert.equal(fs.existsSync("tmp/tree2/file1"),!0),assert.equal(fs.existsSync("tmp/tree2/file2"),!1),shell.mkdir("-p","tmp/tree"),"asdf".to("tmp/tree/file1"),"asdf".to("tmp/tree/file2"),fs.chmodSync("tmp/tree/file1","0444"),shell.rm("-rf","tmp/tree"),assert.equal(fs.existsSync("tmp/tree"),!1),shell.mkdir("-p","tmp/tree3"),shell.mkdir("-p","tmp/tree3/subtree"),shell.mkdir("-p","tmp/tree3/.hidden"),"asdf".to("tmp/tree3/subtree/file"),"asdf".to("tmp/tree3/.hidden/file"),"asdf".to("tmp/tree3/file"),fs.chmodSync("tmp/tree3/file","0444"),fs.chmodSync("tmp/tree3/subtree/file","0444"),fs.chmodSync("tmp/tree3/.hidden/file","0444"),shell.rm("-rf","tmp/tree3/*","tmp/tree3/.*"),assert.equal(shell.ls("tmp/tree3").length,0),shell.mkdir("-p","tmp/tree4"),shell.mkdir("-p","tmp/tree4/subtree"),shell.mkdir("-p","tmp/tree4/.hidden"),"asdf".to("tmp/tree4/subtree/file"),"asdf".to("tmp/tree4/.hidden/file"),"asdf".to("tmp/tree4/file"),fs.chmodSync("tmp/tree4/file","0444"),fs.chmodSync("tmp/tree4/subtree/file","0444"),fs.chmodSync("tmp/tree4/.hidden/file","0444"),shell.rm("-rf","tmp/tree4"),assert.equal(fs.existsSync("tmp/tree4"),!1),shell.exit(123);