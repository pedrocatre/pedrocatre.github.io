function numLines(e){return typeof e=="string"?e.match(/\n/g).length:0}var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0),shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.sed(),assert.ok(shell.error()),shell.sed(/asdf/g),assert.ok(shell.error()),shell.sed(/asdf/g,"nada"),assert.ok(shell.error()),assert.equal(fs.existsSync("/asdfasdf"),!1),shell.sed(/asdf/g,"nada","/asdfasdf"),assert.ok(shell.error()),shell.cp("-f","resources/file1","tmp/file1");var result=shell.sed("test1","hello","tmp/file1");assert.equal(shell.error(),null),assert.equal(result,"hello");var result=shell.sed(/test1/,"hello","tmp/file1");assert.equal(shell.error(),null),assert.equal(result,"hello");var result=shell.sed(/test1/,1234,"tmp/file1");assert.equal(shell.error(),null),assert.equal(result,"1234");var result=shell.sed("-i",/test1/,"hello","tmp/file1");assert.equal(shell.error(),null),assert.equal(result,"hello"),assert.equal(shell.cat("tmp/file1"),"hello"),shell.exit(123);