function numLines(e){return typeof e=="string"?e.match(/\n/g).length:0}var shell=require(".."),assert=require("assert"),path=require("path"),fs=require("fs");fs.existsSync=fs.existsSync||path.existsSync,shell.silent(!0),shell.rm("-rf","tmp"),shell.mkdir("tmp"),shell.cp("resources/*","tmp"),shell.mv(),assert.ok(shell.error()),shell.mv("file1"),assert.ok(shell.error()),shell.mv("-f"),assert.ok(shell.error()),shell.mv("-Z","tmp/file1","tmp/file1"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp/file1"),!0),shell.mv("asdfasdf","tmp"),assert.ok(shell.error()),assert.equal(numLines(shell.error()),1),assert.equal(fs.existsSync("tmp/asdfasdf"),!1),shell.mv("asdfasdf1","asdfasdf2","tmp"),assert.ok(shell.error()),assert.equal(numLines(shell.error()),2),assert.equal(fs.existsSync("tmp/asdfasdf1"),!1),assert.equal(fs.existsSync("tmp/asdfasdf2"),!1),shell.mv("asdfasdf1","asdfasdf2","tmp/file1"),assert.ok(shell.error()),shell.mv("tmp/file1","tmp/file2"),assert.ok(shell.error()),shell.mv("tmp/file1","tmp/file2","tmp/a_file"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp/a_file"),!1),shell.mv("tmp/file*","tmp/file1"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp/file1"),!0),assert.equal(fs.existsSync("tmp/file2"),!0),assert.equal(fs.existsSync("tmp/file1.js"),!0),assert.equal(fs.existsSync("tmp/file2.js"),!0),shell.cd("tmp"),shell.mkdir("tmp2"),shell.mv("*","tmp2"),assert.ok(shell.error()),assert.equal(fs.existsSync("tmp2/file1"),!0),shell.mv("tmp2/*","."),assert.equal(fs.existsSync("file1"),!0),shell.mv("file1","file3"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1"),!1),assert.equal(fs.existsSync("file3"),!0),shell.mv("file3","file1"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1"),!0),shell.rm("-rf","t"),shell.mkdir("-p","t"),shell.mv("file1","file2","t"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1"),!1),assert.equal(fs.existsSync("file2"),!1),assert.equal(fs.existsSync("t/file1"),!0),assert.equal(fs.existsSync("t/file2"),!0),shell.mv("t/*","."),assert.equal(fs.existsSync("file1"),!0),assert.equal(fs.existsSync("file2"),!0),shell.rm("-rf","t"),shell.mkdir("-p","t"),shell.mv(["file1","file2"],"t"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1"),!1),assert.equal(fs.existsSync("file2"),!1),assert.equal(fs.existsSync("t/file1"),!0),assert.equal(fs.existsSync("t/file2"),!0),shell.mv("t/*","."),assert.equal(fs.existsSync("file1"),!0),assert.equal(fs.existsSync("file2"),!0),shell.mv("file*.js","t"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1.js"),!1),assert.equal(fs.existsSync("file2.js"),!1),assert.equal(fs.existsSync("t/file1.js"),!0),assert.equal(fs.existsSync("t/file2.js"),!0),shell.mv("t/*","."),assert.equal(fs.existsSync("file1.js"),!0),assert.equal(fs.existsSync("file2.js"),!0),shell.mv("-f","file1","file2"),assert.equal(shell.error(),null),assert.equal(fs.existsSync("file1"),!1),assert.equal(fs.existsSync("file2"),!0),shell.exit(123);